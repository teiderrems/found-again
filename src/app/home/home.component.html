<div class="max-h-screen h-screen max-w-screen-2xl flex flex-col">
  <app-header />
  <div class=" flex flex-col overflow-y-auto h-full  mt-[100px] w-screen">
    @if (router.url==='/') {
    <div class="flex-1 w-full mb-10 relative">
      <div class="w-full sticky z-10 top-0 scroll-mt-3 max-w-4xl mx-auto my-8 px-4">
        <div
          class="relative flex items-center w-full h-16 rounded-2xl focus-within:shadow-lg bg-white border border-[#FC4E00] shadow-md overflow-hidden transition-shadow duration-300">
          <input [formControl]="searchControl"
            class="peer h-full w-full border-none outline-none focus:ring-0 text-lg text-green-800 placeholder-green-700 font-bold px-6 bg-transparent"
            type="text" id="search" placeholder="Rechercher un objet" />

          <div class="grid place-items-center h-full w-16 text-green-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>
        </div>
      </div>

      <div class="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div *ngFor="let item of filteredItems"
          class="bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col h-full hover:shadow-xl transition-shadow duration-300 group">

          <div class="relative h-48 bg-gray-100">
            <img [src]="item.images[item.currentImageIndex]" [alt]="item.title"
              class="w-full h-full object-cover transition-opacity duration-300">

            <button *ngIf="item.images.length > 1" (click)="prevImage(item, $event)"
              class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white text-gray-800 rounded-full p-1 backdrop-blur-xs cursor-pointer hover:scale-110 transition-transform">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </button>

            <button *ngIf="item.images.length > 1" (click)="nextImage(item, $event)"
              class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/50 hover:bg-white text-gray-800 rounded-full p-1 backdrop-blur-xs cursor-pointer hover:scale-110 transition-transform">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>

          <div class="p-5 flex flex-col grow">
            <h3 class="text-lg font-bold text-gray-800 mb-2">{{ item.title }}</h3>

            <p class="text-xs text-gray-500 leading-relaxed mb-4 grow">
              {{ item.description }}
              <br>
              <span class="block mt-2">Si c'est le vôtre, merci de décrire un détail supplémentaire pour
                confirmation.</span>
            </p>

            <div class="mb-4">
              <span class="text-xs font-bold text-gray-900 block">Trouvé à :</span>
              <span class="text-xs text-gray-600">{{ item.location }}</span>
            </div>

            <button
              class="w-full bg-[#FC4E00] hover:bg-[#e04600] text-white font-bold py-2.5 rounded-lg text-sm transition duration-200 shadow-sm">
              C'est peut être à moi
            </button>
          </div>
        </div>
      </div>
    </div>
    }
    @else {
    <div class="w-full grow">
      <router-outlet></router-outlet>
    </div>
    }
    <div class="  min-h-[100px]">
      <app-footer />
    </div>
  </div>

</div>